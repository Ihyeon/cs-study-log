# Chapter 02 - 데이터 분석을 위한 파이썬
## 📅 2025-10-07
### 1. 시퀀스 슬라이싱과 컴프리헨션
#### 리스트 슬라이싱
- 대상 리스트의 부분 리스트를 생성 또는 수정
- 문법 형식: 리스트이름[시작 인덱스: 끝 인덱스:간격]

```python
numbers = [10, 20, 30, 40, 50, 60, 70]

# 간격 생략 가능
# 0번 인덱스부터 3번 인덱스 직전까지 선택
subset1 = numbers[0:3]
print(subset1) # [10, 20, 30]

# 음수 인덱스: 뒤에서 3번째 요소부터 끝까지 선택
subset2 = numbers[-3:]
print(subset2) # [50, 60, 70]

# 시작과 끝 인덱스는 생략 가능
# 전체 리스트에서 처음부터 2칸씩 건너뛰며 요소를 선택
list1 = numbers[::2] 
print(list1) # [10, 30, 50, 70]

# 간격을 -1로 주어 리스트의 모든 요소를 역순으로 뒤집기
list2 = numbers[::-1]
print(list2) # [70, 60, 50, 40, 30, 20, 10]
```

#### 리스트 컴프리헨션
- 리스트를 간결하게 생성, 조작
- 문법 형식: 표현식 for 변수 in 반복가능한 객체 또는 표현식 for 변수 in 반복가능한 객체 if 조건
- 반복가능한 객체: 리스트, 튜플, 딕셔너리, 문자열, 집합, range 객체

```python
# 리스트 생성
# 일반적인 for 반복문 사용
numbers1 = []
for i in range(5):
    numbers1.append(i)
print(numbers) # [0, 1, 2, 3, 4]

# 리스트 컴프리헨션 사용
numbers2 = [i for i in range(5)]
print(numbers2) # [0, 1, 2, 3, 4]

# 원소 조작
numbers3 = [1, 2, 3, 4, 5]
squares = [num ** 2 for num in numbers3]
print(squares) # [1, 4, 9, 16, 25]

# 조건 적용
numbers4 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
even_numbers = [num for num in numbers4 if num % 2 == 0]
print(even_numbers) # [2, 4, 6, 8, 10]
```

#### 딕셔너리 컴프리헨션
- 대상 딕셔너리를 간결하게 생성, 조작
- 리스트의 [] 연산자 대신 딕셔너리의 {} 연산자를 사용
- 문법 형식: {키: 표현식 for 변수 in 반복가능 객체} 또는 {키: 표현식 for 키변수, 값변수 in 딕셔너리.items()}

```python
# 딕셔너리 생성
# 일반적인 for 반복문 사용
squares1 = {}
for i in range(5):
    squares1[i] = i ** 2
print(squares1) # {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}

# 딕셔너리 컴프리헨션 사용
squares2 = {i: i ** 2 for i in range(5)}
print(squares2) # {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}
```

### 2. 문자열 형식 지정
- 데이터 분석 과정에서 특정 형식의 데이터를 출력하거나 변수 값을 포함한 문자열을 생성하는 상황에서 사용

#### C 스타일(%연산자) 포맷팅
- 문법 형식: "형식 지정자를 포함한 문자열" % (변수 리스트)

```python
name = "홍길동"
height = 175.5
print("제 이름은 %s이고 키는 %.1fcm입니다." % (name, height))
```

| 형식 지정자 | 설명 |
| :--- | :--- |
| `%d` | 정수(decimal) 출력 |
| `%i` | 정수(integer) 출력 (%d와 동일) |
| `%o` | 8진수(octal) 출력 |
| `%x` | 16진수(lowercase) 출력 |
| `%X` | 16진수(uppercase) 출력 |
| `%f` | 소수점이 있는 실수(float) 출력 |
| `%.nf`| 소수점 이하 n자리까지 출력 |
| `%c` | 단일 문자 출력 (정수의 ASCII 문자 변환) |
| `%s` | 문자열(string) 출력 |
| `%%` | %문자 자체를 출력 |

#### str.format() 메서드를 이용한 포맷팅
- 중괄호 {}로 표시된 자리 표시자를 사용하여 문자열 내의 특정 위치에 값을 삽입하는 방식
- 문법 형식: "문자열 {위치 또는 이름}".format(인자)

```python
basic_format = "이름: {}, 나이: {}, 월급: {}원'.format(name, age, salary)"
index_format = "직원 {0}의 나이는 {1}세이고, {0}의 세후 월급은 {2}원입니다.".format(name, age, int(salary * (1 - tax_rate)))
keyword_format = "이름: {employee}, 나이: {years}, 월급: {income:,}원, 세금: {tax:.1%}, 실수령액: {net_income:,}원".format(employee = name, years = age, income = salary, tax = tax_rate, net_income = int(salary * (1 - tax_rate)))
```

#### f_문자열 (Formatted String Literal)
- 파이썬 3.6 버전부터 도입
- 문자열 앞에 'f' 또는 'F' 접두사를 붙이고 문자열 내부에 중괄호를 사용하여 변수나 표현식을 표현
- 문법 형식: f"문자열 {표현식}"

```python
basic_format = f"이름: {name}, 나이: {age}, 월급: {salary}원"
index_format = f"직원 {name}의 나이는 {age}세이고, {name}의 세후 월급은 {int(salary * (1 - tax_rate))}원입니다."
keyword_format = f"직원정보: 이름: {name} 나이: {age}세 월급: {salary:,}원 세금: {tax_rate:.1%} 실수령액: {int(salary * (1 - tax_rate)):,}원"
```

### 3. 컨텍스트 관리
#### 리소스의 사용
- 리소스: 파일, 데이터베이스 연결, 네트워크 소켓 등
- 폐기하지 않을 시 메모리 누수나 데이터 손상과 같은 문제 발생
```python
file = open("output.txt", "w")
file.write("Hello, world!\n")
file.close()
```
#### 컨텍스트 관리의 이해
- 자원을 효율적이고 안전하게 사용할 수 있도록 하는 메커니즘
- 자원을 사용 후 명시적으로 폐기해 주어야 하는 자원의 획득과 해제를 자동으로 처리
```python
with open("output.txt", "w") as file:
    file.write("Hello, world!\n")
```

